\documentclass[a4paper,11pt,twoside,openany,british]{book}

%%%%%%%%% Packages %%%%%%%%%
\usepackage[T1]{fontenc}  % Load first.

\usepackage{amssymb}
\newcommand{\dottedbox}{\diamondsuit}

\usepackage[tableposition=top,figureposition=bottom,font=footnotesize]{caption}

\usepackage[useregional]{datetime2}

\usepackage{etoolbox}
\newtoggle{toggle_example}
\settoggle{toggle_example}{true}  % Set false to remove example boxes.

\usepackage{graphicx}
\graphicspath{{./figures/}{./presentation/figures/}}

\usepackage[bb=dsserif]{mathalpha}  % Get mathbb of 1.

\usepackage{mathtools}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiterXPP{\condition}[1]{\mathbb{1}}{[}{]}{}{#1}

\usepackage[group-digits=integer,separate-uncertainty,per-mode=symbol]{siunitx}

\usepackage[breakable,skins]{tcolorbox}

\usepackage{verbatim}  % Redefine \comment to ignore LaTeX code.

\usepackage[hidelinks]{hyperref}  % Load last.

\usepackage[acronym,indexonlyfirst]{glossaries}  % Load after some packages, check its documentation.
\setacronymstyle{long-short}
\makenoidxglossaries  % Put before any new glossary term.

% Glossary for acronyms created by package option.
\loadglsentries{./glossaries/acronyms.tex}

\newglossary*{definitions}{Definitions}
\setglossarypreamble[definitions]{\label{gls:definitions}}
\loadglsentries[definitions]{./glossaries/definitions.tex}

\newglossary*{symbols}{Symbols}
\setglossarypreamble[symbols]{\label{gls:symbols}}
\loadglsentries[symbols]{./glossaries/symbols.tex}

%%%%%%%%% Other %%%%%%%%%
\newcommand{\tasmax}{\mathrm{tasmax}}
\newcommand{\tas}{\mathrm{tas}}
\newcommand{\riski}{\text{very low}}
\newcommand{\riskii}{\text{low}}
\newcommand{\riskiii}{\text{intermediate}}
\newcommand{\riskiv}{\text{high}}
\newcommand{\riskv}{\text{very high}}

\iftoggle{toggle_example}{
  \newtcolorbox{example}{
    enhanced,
    breakable,
    title=Example,
    coltitle=green!5!white,
    colbacktitle=green,
    fonttitle=\bfseries,
    colframe=green,
    colback=green!5!white
  }
}{
  \newenvironment{example}{\comment}{\endcomment}
}

%%%%%%%%% Document %%%%%%%%%
\begin{document}
\frontmatter
\input{frontispiece.tex}
\tableofcontents

\mainmatter
\chapter{The necessary background}
\input{introduction.tex}
\input{data.tex}
\chapter{The math behind risk}
\input{methods.tex}

\appendix
\chapter{The supplementary information}
\input{appendix.tex}

\backmatter
\printnoidxglossary[type=definitions,sort=word]
\printnoidxglossary[type=\acronymtype,sort=word,nonumberlist]
\printnoidxglossary[type=symbols,nonumberlist]
\glsaddallunused[symbols]
\end{document}
